# AjiMarkupLanguage
AjiMarkupLanguage、略してAjiMLは、Androidにおける文字装飾の規格である。  
HTMLは冗長で書きづらい表現がよく見受けられるため，HTMLを機能を絞って拡張したAjiMLを開発した。
## 概要
AjiMLはHTMLと同じように，文字のマークアップ言語である。  
AjiMLでは，以下の装飾が可能である。

- 太字
- 斜体
- 下線
- 取り消し線
- 相対的な大きさの変更
- 文字色の変更
- 背景色の変更
- 箇条書き
- 上付き文字
- 下付き文字
- リンク
- 等幅フォント
- インデント
- クリックイベント

また，HTMLのCSSのような，事前に定義した書式を適用する文を書くこともできる。
## 仕様
AjiMLのすべての文は，書式グループ文(後述)を除いてすべて段落の中に書かなければならない。段落の外に書いた無効な文は無視される。  
改行文字や2つ以上連なった半角スペースの2つ目以降は無視される。それらの文字を入れたい場合は動的テキスト文を使用する。
## 文法
### 段落
段落は，以下のように定義できる。  
```
&段落名[段落の内容]
```
段落名には改行やスペースを含むこともできるが推奨しない。  
段落の内容は複数行にわたり書くことができる。  
段落は入れ子構造させることはできない。  
### 書式文
書式を指定する時に使用する。2通り存在する。  
```
#書式名{書式を適用する文}
```
この形式の場合，書式名には以下を指定できる。

- b：太字
- i：斜体
- u：下線
- s：取り消し線
- big：大きさ1.25倍
- small：大きさ0.8倍
- ul：箇条書き
- indent：インデント
- sup：上付き文字
- sub：下付き文字
- link：リンク
- mono：等幅フォント
- 書式グループ名
```
#書式名|書式の値{書式を適用する文}
```
この形式の場合，書式名と書式の値には以下を指定できる。

- colname：文字色を変更。色名を指定。
- colcode：文字色を変更。色の16進コードを指定。
- backcolname：背景色を変更。色名を指定。
- backcolcode：背景色を変更。色名を指定。
- size：字の大きさを変更。小数で倍率を指定。
- indent：インデントを指定。整数で大きさを指定。
- clickable：クリックイベントをおこす。イベントのタグを指定。
それぞれを「#big#b#colname|red#indent|20{......}」のようにつなげて指定することも可能。
### 書式グループ文
書式をCSSのようにまとめ，使用することができる。  
AjiMLで段落の外に書くことができる唯一の構文である。  
```
$書式グループ名{書式文}
```
記述した場所が段落の外ならば，この書式グループはグローバルなスコープで使用可能となる。  
記述した場所が段落の中ならば，この書式グループは段落内のローカルなスコープで使用可能となる。  
グローバルな書式グループ文とローカルな書式グループ文が同名で同時に存在する場合は，ローカルなものが優先して使用される。  
### 動的テキスト文
動的にあとから挿入する文がある際に使用する。  
以下のように記述する。  
```
!タグ名!
```
また，デフォルトでは以下のタグが利用可能である。

- br：改行
- sp：半角スペース
- idsp：全角スペース

また，AjiMLで予約されている文字についても!!で囲うことで表すことができる。  
ただし，!を表示させる場合は!!とする。(!を!!ではさんで!!!とはならない。)  
予約されている文字には以下が存在する。
```
# $ { } | & [ ]
```
## 例
段落名はmainとなっている。

```
$jyo{#sup#size|0.5}
&main[
2#jyo{3}=8
]
```
結果：
2<sup>3</sup>=8

## 未実装
~以下の要素は未実装。今後のアップデートでサポートされる可能性がある。~  
AjiMLの開発は終了しました。今後のアップデートは期待されません。

- img
- icon
- editable 実装しません。EditTextを使用してください。

